{% extends 'layout.njk' %}
{% block head %}
	<link
		rel="stylesheet"
		href="https://fonts.googleapis.com/icon?family=Material+Icons"
	/>
	<title>e-Learning</title>
{% endblock %}

{% block content %}
<section class="home-description">
	<div>
		<h1>Aprenda sem sair de casa</h1>
		<h2>
			Aulas on-line e presenciais com os melhores professores do Brasil.
		</h2>
	</div>
	<img src="/student.png" alt="" />
</section>
<main>
	<h1>Alunos utilizando a plataforma e-Learning</h1>
	<section class="table-container">
		<div class="header">
			<a href="/students/create">Cadastre-se como aluno</a>
			<form action="/students#filterform" method="get" id="filterform">
				<input type="text" name="filter" id="filtervalue" value="{{filter}}" placeholder="Nome ou E-mail">
				<input type="hidden" name="page" id="pagevalue" value={{pagination.page}}>
				<input type="hidden" name="limit" id="limitvalue" value={{pagination.limit}}>
				<button type="submit">filtrar</button>
			</form>
		</div>
		<table class="table-student">
			<thead>
				<tr>
					<th>Aluno</th>
					<th>Email</th>
					<th>Ano Escolar</th>
					<th>Ação</th>
				</tr>
			</thead>
			<tbody>
				{% for card in cards %}
				<tr>
					<td>
						<span style="background-image: url('{{card.avatar_url}}')"></span>
						{{card.name}}
						</td>
						<td>{{card.email}}</td>
						<td>{{card.school_term}}</td>
						<td>
							<a href="/students/{{card.id}}">ver mais</a>
						</td>
				</tr>
				{% endfor %}
			</tbody>
		</table>
		<div id="pagination"
			data-page={{pagination.page}}
			data-limit={{pagination.limit}}
			data-total-pages={{pagination.totalPages}}
			data-filter={{filter}}
		></div>
	</section>
</main>
{% endblock %}
